# FASTAPI 기반 서버 모니터링 설계

> 이 문서는 본 프로젝트에서 FastAPI를 기반으로 서버 모니터링 시스템을 설계·확장한 개발 기록이다.
> 기능 사용법보다, "왜 이렇게 설계했는지"를 설명하는 문서다.


## FastAPI 선택 이유
### 1. FastAPI란?
> FastAPI : **Python으로 웹 서버(API 서버)를 쉽게 만들 수 있게 도와주는 도구**
> Python 코드로 웹 주소(URL)에 접속했을 때 어떤 동작을 할지 정의할 수 있는 프레임워크


* `/cpu` 라는 주소로 접속하면 → CPU 사용률을 보여준다
* `/dashboard` 로 접속하면 → 웹 화면(HTML)을 보여준다

<br>

### 2. 왜 그냥 Python 파일로는 안 되는가?

```bash
python test.py
```

하지만 이렇게 실행한 프로그램은:
* 웹 브라우저에서 접속 불가
* 여러 사용자의 요청을 동시에 처리하기 힘듦
* 서버 프로그램처럼 계속 켜두기 불편함

👉 **서버 상태를 웹으로 보여주려면 "웹 서버"가 필요**

<br>

### 3. FastAPI를 선택한 이유

* Python 문법 그대로 사용 (기초 문법만 알아도 가능)
* 코드가 짧고 읽기 쉬움
* 서버 상태 확인 같은 가벼운 작업에 적합
* 나중에 기능을 하나씩 추가하기 쉬움

👉 **리눅스 서버 모니터링 실습용으로 가장 부담이 적은 선택**

### 4. FastAPI의 한계

- 실시간 대규모 메트릭 수집에는 적합하지 않음
- Prometheus / Grafana 대체 목적은 아님

### 5. 왜 다른 프레임워크가 아닌가?
| 선택지             | 사용하지 않은 이유                     |
| --------------- | ------------------------------ |
| **Node.js**     | 시스템 리소스·프로세스 수집은 Python이 더 직접적 |
| **Spring Boot** | 웹 서비스용 프레임워크로, 모니터링 도구에는 과함    |
| **Next.js**     | UI 중심 프레임워크로 서버 상태 수집과 역할이 다름  |

---
<br>

## FastAPI가 이 프로젝트에서 하는 역할

> FastAPI는 이 프로젝트에서 **중간 관리자** 역할

```
[ Rocky Linux 서버 ]
        |
        |  (CPU, 메모리, 로그 읽기)
        v
[ Python 코드 ]
        |
        |  FastAPI
        v
[ 웹 브라우저 ]
```

* Linux에서 정보를 읽는다
* FastAPI가 그 정보를 웹 요청에 맞게 전달한다
* 브라우저에서 결과를 확인한다

---
<br>

### main.py는 왜 중요한가?

`main.py`는 **FastAPI 서버가 시작되는 파일 (FastAPI 엔트리)**

* 이 파일이 실행되면 웹 서버가 켜짐
* 모든 URL과 기능이 여기서 연결됨
* uvicorn을 통해 서버 프로세스로 실행됨

### 왜 가상환경(venv)을 사용하는가?

이 프로젝트는 **서버에서 실행되는 프로그램**이기 때문에, Python 환경을 깨끗하게 관리하는 것이 중요

#### 가상환경을 사용하는 이유
* 이 프로젝트 전용 Python 환경을 만들기 위해
* 서버 전체 Python에 영향을 주지 않기 위해
* 나중에 프로젝트를 옮겨도 같은 환경을 재현하기 위해

> 서버에서 Python 프로젝트를 안전하게 관리하기 위해 사용하는 기본 습관

```bash
python3 -m venv venv
source venv/bin/activate
```

* `server-monitor` 전용 Python 공간 생성
* FastAPI, psutil 등을 안전하게 설치 가능

---
<br>

## 이 문서의 범위

- FastAPI 선택과 사용 이유
- 서버 모니터링 구조 설계
- 운영 관점의 판단 기준

> 구현 세부 코드는 web/README.md 및 소스 코드에 포함된다.